---
import Layout from '../../layouts/Layout.astro';
import { getTiendapyPosts } from '@/lib/tiendapy';

const posts = await getTiendapyPosts({ limit: 10 });
---

<Layout
	title="TiendaPy"
	description="Notas y novedades sobre TiendaPy, con aprendizajes y decisiones técnicas del proyecto."
	canonical="https://www.nicolasmontiel.dev/tiendapy"
>
	<section class="flex flex-col gap-5">
		<h3 class="text-3xl text-white">
            <b>TiendaPy</b>: Crónicas de un SaaS en Paraguay (Build in Public)
        </h3>

        <div class="space-y-4">
            <p>
                ¡Buenas! Si llegaste hasta acá, es porque te interesa ver cómo se construye un producto desde las trincheras (?).
            </p>

            <p>
                <b>¿Qué es TiendaPy?</b> <br />
                Es mi apuesta para digitalizar el comercio local. No es otro clon de Shopify; es una plataforma SaaS diseñada exclusivamente para el mercado paraguayo. El foco es que cualquier emprendedor o empresa de acá pueda gestionar su e-commerce de forma eficiente, sin tener que estresarse por cosas que no necesita.
            </p>

            <p>
                <b>¿Por qué escribo esto?</b> <br />
                Soy ingeniero de software con casi 8 años de experiencia, pero esta es mi primera vez emprendiendo. Sé tirar líneas de código, pero estoy aprendiendo a vender, a mercadear y a entender qué quiere el usuario paraguayo.

                Acá vas a encontrar el relato diario de los desafíos, las dudas existenciales y las funciones que agregué (y por qué).
            </p>

            <p>
                <b>Cero humo, mucha realidad</b> <br />
                Mi idea es mostrarte el camino REAL. No vas a leer frases motivacionales de Instagram ni el "camino de oro" al éxito. Nadie tiene la clave para emprender, y el que te diga lo contrario, te está queriendo vender un curso.
            </p>

            <div>
                <strong>Acá vas a ver:</strong>
                <ul class="list-disc list-inside">
                    <li>Decisiones de arquitectura de las que me arrepentí.</li>
                    <li>La frustración de cuando nadie entra a la web y el hype de la primera venta.</li>
                    <li>Estrategias que fallaron estrepitosamente.</li>
                </ul>
            </div>

            <p>Sin filtros y sin romantizar el caos. Si sale bien, festejamos; si sale mal, al menos queda el registro de por qué falló.</p>
        </div>
	</section>

	<section class="mt-16">
		<div class="flex justify-between items-center mb-6">
			<h5 class="text-xl text-white font-semibold">Últimos posts</h5>
		</div>

		{posts.length === 0 ? (
			<p>No hay posts publicados todavía.</p>
		) : (
			<div class="w-full">
				{posts.map(post => (
					<div class="py-5 lg:py-7 flex flex-col">
						<div class="mb-3">
							<div class="flex justify-between">
								<p class="text-sm">{new Date(post.published_at).toLocaleDateString()}</p>
								<span class="text-sm text-rose-700">{post.reading_time_minutes} min read</span>
							</div>

							<h4 class="text-white text-2xl my-1">{post.title}</h4>

							{post.tags.length > 0 && (
								<div class="flex gap-3">
									{post.tags.map(tag => (
										<span class="text-xs text-rose-700 opacity-95 uppercase">{tag}</span>
									))}
								</div>
							)}
						</div>

						{post.excerpt && <div class="mb-7">{post.excerpt}</div>}

						<div>
							<a class="text-rose-700" href={`/tiendapy/${post.slug}`}>
								Leer más →
							</a>
						</div>
						<hr class="border-zinc-300 mt-7" />
					</div>
				))}
			</div>
		)}
	</section>
</Layout>
